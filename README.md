# AkiDefence
策略小游戏“秋姐妹红薯保卫战”

## 游戏背景

由于幽幽子的第二次春雪异变，幻想乡发生了粮食歉收。

饥肠辘辘的灵梦和魔理沙开始了出门寻找食物之旅。她们找到了秋姐妹。秋姐妹作为丰收的神明，家里存储了不少红薯。在一番讨要无果后，灵梦和魔理沙决定至少不能先饿死，红薯的事以后再还吧~(城管化身强盗辣)

## 规则描述

在四连通方格地图上，秋姐妹和城管组展开关于红薯的争夺战。为了简化模型，我们只让秋穰子和雾雨魔理沙出场。

### 操作

每一秒，两人均可以选择如下的操作之一:

1.移动。可以向上下左右移动一格，只要没有障碍物(红薯堆/土墙/神社/活动墙)。

如果两人移动途中或者停下后相撞，则移动无效并且两人均失去1点HP(失去HP数和地图有关，默认地图为1点)。

2.静止不动，直接进入下一秒。

3.取红薯。当紧挨着红薯堆，并且手里没有红薯时，可以选择取一个红薯。

4.放红薯。当紧挨着博丽神社，并且手里有红薯时，可以选择将红薯放入神社。

5.扔红薯。手中有红薯时，可以将手中的红薯扔到前后左右任意一个方向，范围为2。红薯砸中对方，则对方HP减少2点(同样和地图有关，默认地图为2，下同)。扔出去的红薯瞬间落到所选的位置，并且不可捡回。

6.吃红薯。手中有红薯时，吃掉红薯并回复1点HP。

### 交互场景

1.红薯堆

任何一人站在红薯堆旁边，手里没红薯，即可花费1秒取一个红薯。

2.神社

任何一人站在神社旁边，手里有红薯，即可花费1秒放下红薯。

放下红薯后神社的红薯数量+1(游戏开始时为0)。放下的红薯不能再捡回。

3.土墙

无法阻挡扔出的红薯，但能阻挡两人前进。

4.机关。

机关具有颜色，隐藏在地下。升起后可对在上面静止不动的人造成1点伤害，如果对方这一秒从其他格移动到此格，也造成同样的伤害。

每一个机关都有颜色，每个颜色可能含有1种或多种色元。

5.活动墙

活动墙具有颜色，隐藏在地下。升起后等价于一堵土墙。若对方这一秒站在此格或者从其他位置来到此格，则墙无法升起，没有任何作用。

每一个活动墙都有颜色，每个颜色可能含有1种或多种色元。

6.踏板。

任何人踩到踏板上即可触发机关和活动墙升起，离开后机关和活动墙落下。

每一个踏板都有颜色，每个颜色可能含有1种或多种色元。

机关和活动墙只要含有踏板所包含的色元，则会被触发而升起。

### 每秒结束时事件的发生顺序

吃到的红薯使双方补血(不能超过上限)。

判定双方想要移动到的新位置是否因越界或者撞到土墙、活动墙、二人碰撞而移动失败，失败则退回原位，成功则位置更新。

二人碰撞扣血。

投掷的红薯使双方扣血。

红薯放下和拿起。

机关、活动墙升起和落下。

机关扣血。


### 流程

游戏有时间上限。当某次行动后，时间达到最大时间，则红薯保卫战结束。战斗过程中，若某次行动后魔理沙的HP归0，战斗也立即结束。战斗结束时，魔理沙的最终得分为博丽神社中的红薯总数，而秋穰子的最终得分为魔理沙得分的相反数(也就是秋穰子的分数不会>0，好可怜)。

## 版权声明

本作品为东方project的二次创作，原作者「上海アリス幻樂団」。

本作品的源代码采用GNU General Public License v3.0协议。

### 关于三次创作

1.需要遵守ZUN先生发布的东方二次创作规定。

2.非盈利用途的再创作不受限制，但如使用本作品的源代码，需要遵守相应开源协议。

3.在本作品内容基础上所进行的软件类再创作，如用作盈利目的，需公开源代码，并遵守GNU General Public License v3.0协议。

4.其他类型用于盈利目的再创作请联系本作品的作者。
